<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="logo.jpg">
  <title>Produits & Boutiques | AlexLivraison</title>
  <meta name="description" content="Commandez vos produits et boutiques locales en 30 secondes grâce à AlexLivraison. Livraison rapide et fiable.">
  <meta name="theme-color" content="#6b23ff">
  <meta property="og:title" content="Produits & Boutiques | AlexLivraison">
  <meta property="og:description" content="Trouvez vos produits et commandez en 30 secondes avec AlexLivraison. Livraison rapide et fiable.">
  <meta property="og:image" content="logo.jpg">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3e%3ccircle cx='32' cy='32' r='32' fill='%236b23ff'/%3e%3ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-size='34' fill='white'%3e⚡️%3c/text%3e%3c/svg%3e">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin>
  <style>
    :root{--violet:#6b23ff;--violet-dark:#32006b;--green:#4caf50;--ring:#ffffff35}
    html,body{height:100%;margin:0;padding:0;overflow-x:hidden;scroll-behavior:smooth;background:linear-gradient(180deg,#32006b,#7a2cf5);background-attachment:fixed;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#222;display:flex;flex-direction:column;align-items:center}
    *,*::before,*::after{box-sizing:border-box}
    img{max-width:100%;height:auto;display:block;transition:transform .3s}
    img:hover{transform:scale(1.03)}
    .wrap{width:100%;max-width:1060px;margin:0 auto;padding:16px}
    .topbar{position:sticky;top:0;z-index:60;width:100%;backdrop-filter:saturate(160%) blur(12px);background:linear-gradient(180deg,rgba(20,0,45,.86),rgba(20,0,45,.52));border-bottom:1px solid var(--ring)}
    .topbar-inner{display:flex;align-items:center;gap:14px;justify-content:space-between;padding:12px 16px}
    .brand img{width:120px;height:auto;cursor:pointer}
    .hamb{width:40px;height:40px;border-radius:10px;display:grid;place-items:center;background:#ffffff12;border:1px solid #ffffff33;cursor:pointer;position:relative;transition:background .3s}
    .hamb:hover{background:#ffffff26}
    .hamb span,.hamb::before,.hamb::after{content:"";position:absolute;width:22px;height:2px;background:#fff;border-radius:2px;transition:.3s}
    .hamb span{top:50%;transform:translateY(-50%)}
    .hamb::before{top:9px}
    .hamb::after{bottom:9px}
    .hamb.open span{opacity:0}
    .hamb.open::before{transform:rotate(45deg);top:19px}
    .hamb.open::after{transform:rotate(-45deg);bottom:19px}
    .drawer{position:fixed;inset:0;z-index:70;pointer-events:none}
    .drawer .shade{position:absolute;inset:0;background:#0009;opacity:0;transition:opacity .3s}
    .drawer .panel{position:absolute;left:-320px;top:0;bottom:0;width:320px;background:#14002b;color:#fff;box-shadow:8px 0 30px #0008;padding:18px 14px;display:flex;flex-direction:column;gap:14px;transition:left .3s;overflow-y:auto}
    .drawer.open{pointer-events:auto}
    .drawer.open .shade{opacity:1}
    .drawer.open .panel{left:0}
    .drawer a{color:#fff;text-decoration:none;padding:12px;border-radius:10px;background:#ffffff12;border:1px solid #ffffff22;text-align:center;transition:background .3s}
    .drawer a:hover{background:#ffffff26}
    .drawer .langs{margin-top:auto;display:flex;gap:8px}
    .drawer .langs button{flex:1;background:#ffffff14;border:1px solid #ffffff33;color:#fff;padding:10px;border-radius:10px;cursor:pointer;transition:background .3s}
    .drawer .langs button:hover{background:var(--violet)}
    .hero{padding:28px 16px;color:#fff;text-align:center}
    .h1{color:#fff;margin:4px 0 6px 0;font-weight:900}
    .muted{color:#cfc5ff}
    .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:8px 0 10px 0}
    .filters{display:flex;flex-wrap:wrap;gap:8px}
    .chip{background:#ffffff18;color:#fff;border:1px solid #ffffff33;padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:700;transition:background .3s}
    .chip.active{background:#fff;color:var(--violet-dark)}
    .chip:hover{background:#ffffff2a}
    .search{flex:1;min-width:220px}
    .search input{width:100%;padding:12px;border-radius:12px;border:1px solid #d7d7e4;outline:none}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px;margin:12px 0 20px}
    .card{background:#fff;border-radius:14px;box-shadow:0 10px 34px rgba(0,0,0,.18);overflow:hidden;display:flex;flex-direction:column;transition:transform .2s;scroll-margin-top:110px}
    .card:hover{transform:translateY(-4px);box-shadow:0 16px 40px rgba(0,0,0,.25)}
    .pic{height:160px;background:#f4f4fb;display:grid;place-items:center}
    .body{padding:12px 14px}
    .title{font-weight:900}
    .desc{opacity:.8;font-size:14px;margin-top:4px;min-height:40px}
    .row{display:flex;align-items:center;justify-content:space-between;margin-top:10px}
    .price{font-weight:900}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 12px;border-radius:12px;border:none;cursor:pointer;transition:background .2s}
    .btn-primary{background:var(--violet);color:#fff}
    .btn-primary:hover{background:var(--violet-dark)}
    .btn-ghost{background:#ececf4}
    .modal{position:fixed;inset:0;background:#0008;display:none;align-items:center;justify-content:center;z-index:80}
    .modal.show{display:flex}
    .sheet{background:#fff;border-radius:16px;max-width:520px;width:92%;padding:16px;box-shadow:0 30px 70px rgba(0,0,0,.35);animation:fadeIn .3s}
    @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    .sheet label{display:block;margin-top:8px;font-weight:700}
    .sheet input,.sheet textarea{width:100%;padding:10px;border:1px solid #cfd0d8;border-radius:10px;outline:none}
    .footer{color:#cfc5ff;text-align:center;margin:18px 0 38px 0;font-size:14px;user-select:none}
    #preloader{position:fixed;inset:0;background:linear-gradient(135deg,#32006b,#7a2cf5);display:flex;align-items:center;justify-content:center;z-index:99999;flex-direction:column;color:#fff;font-weight:700;font-size:18px}
    #preloader-logo{width:80px;height:80px;margin-bottom:12px}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    #preloader-logo svg{animation:spin 4s linear infinite;width:100%;height:100%;fill:#fff}
  </style>
</head>
<body>
  <div id="preloader"><div id="preloader-logo"><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="32" fill="#6b23ff"/><path d="M25 12 L39 32 L27 32 L39 52 Z" fill="white"/></svg></div>Chargement…</div>
  <div class="topbar"><div class="topbar-inner wrap"><div class="brand"><img src="logo.jpg" alt="AlexLivraison"></div><div class="hamb" id="btn-menu"><span></span></div></div></div>
  <div class="drawer" id="drawer"><div class="shade" id="shade"></div><div class="panel"><img src="logo.jpg" alt="AlexLivraison" style="width:120px;height:auto;margin-bottom:10px"><a href="index.html">Accueil / Commander</a><a href="supermarches.html" target="_blank" rel="noopener">Supermarchés</a><a href="restaurants.html" target="_blank" rel="noopener">Restaurants</a><a href="pharmacies.html" target="_blank" rel="noopener">Pharmacies</a><a href="boulangeries.html" target="_blank" rel="noopener">Boulangeries</a><div class="langs"><button id="btn-fr">FR</button><button id="btn-en">EN</button></div></div></div>
  <header class="hero wrap"><div class="muted" id="hero-eyebrow">Catalogue</div><h1 class="h1" id="hero-title">Produits & Boutiques</h1><div class="muted" id="hero-desc">Trouvez vos produits et commandez en 30 secondes.</div></header>
  <main class="wrap"><div class="controls"><div class="filters" id="filters"><button class="chip active" data-cat="all">Tous</button></div><div class="search"><input id="q" placeholder="Rechercher un produit…"></div></div><div class="grid" id="grid"></div></main>
  <div class="footer">© AlexLivraison – Livraison locale rapide</div>
  <div class="modal" id="orderModal"><div class="sheet"><h3 id="m_title">Commander</h3><div class="muted" id="m_sub">Complétez vos informations pour finaliser la demande.</div><label id="m_label_name">Nom du client</label><input id="m_name" placeholder="Jean Dupont"><label id="m_label_phone">Téléphone</label><input id="m_phone" placeholder="+33 6 12 34 56 78"><label id="m_label_from">Adresse de départ</label><input id="m_from" placeholder="Ex: Carrefour Mayol, Toulon"><label id="m_label_to">Adresse de destination</label><input id="m_to" placeholder="Ex: 241 Rue Le Corbusier, La Seyne"><label id="m_label_note">Remarque</label><textarea id="m_note" placeholder="Code porte, étage, etc."></textarea><div class="note" id="m_hint">Un récapitulatif sera envoyé à AlexLivraison (Telegram).</div><div class="actions"><button class="btn btn-ghost" id="m_cancel">Annuler</button><button class="btn btn-primary" id="m_send">Envoyer</button></div></div></div>
  <script>
    window.addEventListener('load',()=>{const p=document.getElementById('preloader');p.style.opacity='0';setTimeout(()=>p.style.display='none',400);if('serviceWorker' in navigator){navigator.serviceWorker.register('service-worker.js');}});
    const btnMenu=document.getElementById('btn-menu'),drawer=document.getElementById('drawer'),shade=document.getElementById('shade');
    btnMenu.onclick=()=>{btnMenu.classList.toggle('open');drawer.classList.add('open');};
    shade.onclick=()=>{btnMenu.classList.remove('open');drawer.classList.remove('open');};
    const productsData=[{id:1,cat:"Supermarchés",name:"Panier fruits frais",price:9.90,img:"https://images.unsplash.com/photo-1542838132-92c53300491e?q=80&w=1200&auto=format&fit=crop",desc:"Sélection quotidienne de fruits de saison."},{id:2,cat:"Boulangeries",name:"Baguette tradition x3",price:3.20,img:"https://images.unsplash.com/photo-1519680772-8b5b0b0c5b38?q=80&w=1200&auto=format&fit=crop",desc:"Farine locale, croustillante à souhait."},{id:3,cat:"Pharmacies",name:"Paracétamol 500mg",price:2.99,img:"https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1200&auto=format&fit=crop",desc:"Respect des conditions de délivrance."},{id:4,cat:"Restaurants",name:"Sushi mix 18 pcs",price:14.90,img:"https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop",desc:"Assortiment chef, sauce soja & wasabi."},{id:5,cat:"Épiceries",name:"Huile d’olive AOP 75cl",price:8.50,img:"https://images.unsplash.com/photo-1546549039-49e368d2ed3c?q=80&w=1200&auto=format&fit=crop",desc:"Pression à froid, goût fruité."}];
    const grid=document.getElementById('grid'),q=document.getElementById('q'),filters=document.getElementById('filters'),mCancel=document.getElementById('m_cancel'),mSend=document.getElementById('m_send'),mName=document.getElementById('m_name'),mPhone=document.getElementById('m_phone'),mFrom=document.getElementById('m_from'),mTo=document.getElementById('m_to'),mNote=document.getElementById('m_note'),orderModal=document.getElementById('orderModal');
    const i18n={fr:{orderBtn:'Commander',modalTitle:'Commander',fillAll:'Complétez tous les champs.',sentOk:'Commande envoyée ✅',sentErr:'Erreur ❌'},en:{orderBtn:'Order',modalTitle:'Order',fillAll:'Please fill all fields.',sentOk:'Order sent ✅',sentErr:'Error ❌'}};
    let strings=i18n.fr,activeCat='all',visibleCount=6,currentProduct=null;
    const categories=[...new Set(productsData.map(p=>p.cat))];categories.forEach(c=>{const b=document.createElement('button');b.className='chip';b.dataset.cat=c;b.textContent=c;filters.appendChild(b);});
    function formatPrice(v){return(v.toFixed(2)+' €').replace('.',',');}
    function render(){const term=q.value.toLowerCase().trim();grid.innerHTML='';let data=[...productsData];if(activeCat!=='all')data=data.filter(p=>p.cat===activeCat);if(term)data=data.filter(p=>p.name.toLowerCase().includes(term)||p.desc.toLowerCase().includes(term));data.slice(0,visibleCount).forEach(p=>{const div=document.createElement('div');div.className='card';div.innerHTML=`<div class="pic"><img src="${p.img}" alt="${p.name}" loading="lazy"></div><div class="body"><div class="title">${p.name}</div><div class="desc">${p.desc}</div><div class="row"><div class="price">${formatPrice(p.price)}</div><button class="btn btn-primary" data-id="${p.id}">${strings.orderBtn}</button></div></div>`;grid.appendChild(div);});}
    filters.onclick=e=>{if(e.target.classList.contains('chip')){document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));e.target.classList.add('active');activeCat=e.target.dataset.cat;render();}};
    q.oninput=render;render();
    grid.onclick=e=>{if(e.target.matches('.btn-primary')){const id=e.target.dataset.id;currentProduct=productsData.find(p=>p.id==id);document.getElementById('m_title').textContent=strings.modalTitle+' — '+currentProduct.name;orderModal.classList.add('show');}};
    mCancel.onclick=()=>orderModal.classList.remove('show');
    async function sendTelegram(msg){await new Promise(r=>setTimeout(r,1000));return true;}
    mSend.onclick
 
