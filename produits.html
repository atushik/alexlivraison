<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Produits Partenaires - AlexLivraison</title>
<style>
/* ... Ğ²ÑĞµ Ñ‚Ğ²Ğ¾Ğ¸ ÑÑ‚Ğ¸Ğ»Ğ¸ Ğ‘Ğ•Ğ— Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ ... */
</style>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
<div class="wrap">
<header>
<a href="index.html" class="logo">AlexLivraison <span class="emoji">ğŸšš</span></a>
<div class="hamburger" id="hamburger"><span></span></div>
</header>
<div class="menu" id="menu">
<nav>
<a href="#" class="submenu-trigger" id="openPartnerMenu">ğŸ›’ Devenir partenaire vendeur</a>
<div class="submenu" id="partnerSubmenu">
<a href="form-supermarches.html" target="_blank">PropriÃ©taire de supermarchÃ©</a>
<a href="form-boulangerie.html" target="_blank">PropriÃ©taire de boulangerie</a>
<a href="form-pharmacies.html" target="_blank">PropriÃ©taire de pharmacie</a>
<a href="form-restaurants.html" target="_blank">PropriÃ©taire de restaurant</a>
<a href="form-epiceries.html" target="_blank">PropriÃ©taire d'Ã©picerie fine</a>
<a href="form-commercants.html" target="_blank">PropriÃ©taire de commerce local</a>
<a href="form-boucheries.html" target="_blank">PropriÃ©taire de boucherie</a>
<a href="form-poissonneries.html" target="_blank">PropriÃ©taire de poissonnerie</a>
</div>
<a href="devenir-coursier.html">ğŸš´ Devenir partenaire coursier</a>
<a href="index.html">ğŸ  Retour Ã  la page d'accueil</a>
<a href="index.html#contact">ğŸ“ Contactez-nous</a>
<a href="about.html">â„¹ï¸ Ã€ propos de nous</a>
</nav>
<div class="lang-switch">
<p>Langue / Language</p>
<div class="lang-btns">
<button class="active" id="langFr">FR</button>
<button id="langEn">EN</button>
</div>
</div>
</div>
<div class="page-header">
<div class="sticker">ğŸ›</div>
<h1>Bienvenue dans notre section de produits partenaires !</h1>
<div class="sticker">âœ¨</div>
</div>
<div class="promo-banner">
<h2>ğŸ‰ Promotion spÃ©ciale!</h2>
<p>Livraison gratuite sur toutes les commandes de nos partenaires ce mois-ci!</p>
</div>
<div class="filters" id="filters">
<button class="filter-btn active" data-category="all"><span class="emoji">ğŸŒŸ</span><span>Tous les produits</span></button>
<button class="filter-btn" data-category="supermarches"><span class="emoji">ğŸ›’</span><span>SupermarchÃ©s</span></button>
<button class="filter-btn" data-category="boulangeries"><span class="emoji">ğŸ¥–</span><span>Boulangeries</span></button>
<button class="filter-btn" data-category="boucheries"><span class="emoji">ğŸ¥©</span><span>Boucheries</span></button>
<button class="filter-btn" data-category="poissonneries"><span class="emoji">ğŸŸ</span><span>Poissonneries</span></button>
<button class="filter-btn" data-category="pharmacies"><span class="emoji">ğŸ’Š</span><span>Pharmacies</span></button>
<button class="filter-btn" data-category="restaurants"><span class="emoji">ğŸ½</span><span>Restaurants</span></button>
<button class="filter-btn" data-category="epicerie"><span class="emoji">ğŸ§€</span><span>Ã‰picerie</span></button>
<button class="filter-btn" data-category="commercants"><span class="emoji">ğŸª</span><span>CommerÃ§ants</span></button>
</div>
<div class="products-grid" id="productsGrid"></div>
<footer><p>Â© 2025 AlexLivraison - Tous droits rÃ©servÃ©s</p></footer>
</div>
<script>
const supabaseUrl = "https://mfrsdahsnmebubhynlsa.supabase.co";
const supabaseKey = "sb_publishable_PJmJ9Natsrqs3AFjRLHc6Q_0c6jH3-v";
const supabase = supabase.createClient(supabaseUrl, supabaseKey);
const hamburger=document.getElementById('hamburger');
const menu=document.getElementById('menu');
hamburger.addEventListener('click',()=>{menu.classList.toggle('open');hamburger.classList.toggle('active');});
const openPartnerMenu=document.getElementById('openPartnerMenu');
const partnerSubmenu=document.getElementById('partnerSubmenu');
openPartnerMenu.onclick=function(e){
  e.preventDefault();
  partnerSubmenu.classList.toggle('visible');
  document.addEventListener('click',function handler(ev){
    if (!ev.target.closest('#partnerSubmenu') && ev.target!==openPartnerMenu){
      partnerSubmenu.classList.remove('visible');
      document.removeEventListener('click',handler);
    }
  });
};
const productsGrid=document.getElementById('productsGrid');
const filterBtns=document.querySelectorAll('.filter-btn');
const categoryNames={
  supermarches:'SupermarchÃ©s',
  boulangeries:'Boulangeries',
  boucheries:'Boucheries',
  poissonneries:'Poissonneries',
  pharmacies:'Pharmacies',
  restaurants:'Restaurants',
  epicerie:'Ã‰picerie',
  commercants:'CommerÃ§ants'
};
const categoryPages={
  supermarches:'supermarches.html',
  boulangeries:'boulangeries.html',
  boucheries:'boucheries.html',
  poissonneries:'poissonneries.html',
  pharmacies:'pharmacies.html',
  restaurants:'restaurants.html',
  epicerie:'epicerie.html',
  commercants:'commercants.html'
};
async function afficherProduitsSupabase(cat){
  productsGrid.innerHTML = '';
  let query = supabase.from('products').select('*');
  if(cat!=='all') query = query.eq('category',cat);
  const { data, error } = await query;
  if(error||!data) {
    productsGrid.innerHTML='<div style="color:#fff;text-align:center;padding:20px">Aucun produit dans cette catÃ©gorie</div>';
    return;
  }
  data.forEach(p=>{
    const div=document.createElement('div');
    div.className='product-card';
    div.onclick=()=>{
      if(categoryPages[p.category]) window.location.href=categoryPages[p.category];
    };
    div.innerHTML=`
      <img src="${p.imageUrl||p.img||''}" class="product-img" alt="${p.name}">
      <div class="product-badge">${categoryNames[p.category]||''}</div>
      <div class="product-name">${p.name}</div>
      <div class="product-price">${p.price ? Number(p.price).toFixed(2)+' â‚¬' : ''}</div>
      <div class="product-desc">${p.desc||''}</div>
      <button class="btn-order">Commander</button>`;
    productsGrid.appendChild(div);
  });
  if(!data.length) productsGrid.innerHTML='<div style="color:#fff;text-align:center;padding:20px">Aucun produit dans cette catÃ©gorie</div>';
}
let curCat='all';
afficherProduitsSupabase(curCat);
filterBtns.forEach(btn=>{
  btn.addEventListener('click',()=>{
    filterBtns.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    curCat=btn.dataset.category;
    if(curCat !== "all") {
      if(categoryPages[curCat]) {
        window.location.href = categoryPages[curCat];
        return;
      }
    }
    afficherProduitsSupabase(curCat);
  });
});
const langFr=document.getElementById('langFr');
const langEn=document.getElementById('langEn');
const langData = {
  fr: {
    lang: 'fr',
    pageTitle: 'Produits Partenaires - AlexLivraison',
    pageHeader: 'Bienvenue dans notre section de produits partenaires !',
    promoH2: 'ğŸ‰ Promotion spÃ©ciale!',
    promoP: 'Livraison gratuite sur toutes les commandes de nos partenaires ce mois-ci!',
    menu: [
      "ğŸ›’ Devenir partenaire vendeur",
      "ğŸš´ Devenir partenaire coursier",
      "ğŸ  Retour Ã  la page d'accueil",
      "ğŸ“ Contactez-nous",
      "â„¹ï¸ Ã€ propos de nous"
    ]
  },
  en: {
    lang: 'en',
    pageTitle: 'Partner Products - AlexLivraison',
    pageHeader: 'Welcome to our partner products section!',
    promoH2: 'ğŸ‰ Special Promotion!',
    promoP: 'Free delivery on all partner orders this month!',
    menu: [
      "ğŸ›’ Become a partner seller",
      "ğŸš´ Become a partner courier",
      "ğŸ  Back to homepage",
      "ğŸ“ Contact us",
      "â„¹ï¸ About us"
    ]
  }
};
function setLanguage(lang){
  let data = langData[lang];
  document.documentElement.lang = data.lang;
  document.title = data.pageTitle;
  langFr.classList.toggle('active', lang === 'fr');
  langEn.classList.toggle('active', lang === 'en');
  document.querySelector('.page-header h1').textContent = data.pageHeader;
  document.querySelector('.promo-banner h2').textContent = data.promoH2;
  document.querySelector('.promo-banner p').textContent = data.promoP;
  const navLinks = document.querySelectorAll('.menu nav > a:not(.submenu-trigger)');
  if (lang === "fr") {
    navLinks[0].textContent = langData.fr.menu[1];
    navLinks[1].textContent = langData.fr.menu[2];
    navLinks[2].textContent = langData.fr.menu[3];
    navLinks[3].textContent = langData.fr.menu[4];
    document.getElementById('openPartnerMenu').textContent = langData.fr.menu[0];
  } else {
    navLinks[0].textContent = langData.en.menu[1];
    navLinks[1].textContent = langData.en.menu[2];
    navLinks[2].textContent = langData.en.menu[3];
    navLinks[3].textContent = langData.en.menu[4];
    document.getElementById('openPartnerMenu').textContent = langData.en.menu[0];
  }
  afficherProduitsSupabase(curCat);
}
langFr.onclick=function(){setLanguage('fr');};
langEn.onclick=function(){setLanguage('en');};
</script>
</body>
</html>
