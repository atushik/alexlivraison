<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <title>AlexLivraison</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin></script>
  <style>
    :root{--violet:#6b23ff;--violet-dark:#32006b;--green:#4caf50;--ring:#ffffff35;--yellow:#ffe94a;--deep:#24034e}
    html,body{height:100%;margin:0;padding:0;overflow-x:hidden}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#222;background:radial-gradient(ellipse 90% 60% at 40% top, #7a2cf5 40%, #420889 100%, #1d0038 120%);}
    *{box-sizing:border-box}
    img{max-width:100%;height:auto;display:block}
    .wrap{width:100%;max-width:1080px;margin:0 auto;padding:16px}
    .topbar{position:sticky;top:0;z-index:60;width:100%;backdrop-filter:saturate(160%) blur(10px);background:linear-gradient(180deg,rgba(20,0,45,.98),rgba(20,0,45,.60));border-bottom:1px solid var(--ring)}
    .topbar-inner{display:flex;align-items:center;gap:16px;justify-content:space-between;padding:10px 20px}
    .brand img{width:132px;height:auto}
    .hamb{width:40px;height:40px;border-radius:10px;display:grid;place-items:center;background:#ffffff17;border:1px solid #ffffff44;cursor:pointer;position:relative}
    .hamb span,.hamb::before,.hamb::after{content:"";position:absolute;width:22px;height:2.6px;background:#fff;border-radius:2px;transition:.3s}
    .hamb span{top:50%;transform:translateY(-50%)}
    .hamb::before{top:11px}
    .hamb::after{bottom:11px}
    .drawer{position:fixed;inset:0;z-index:90;pointer-events:none}
    .drawer .shade{position:absolute;inset:0;background:#000b;opacity:0;transition:.3s}
    .drawer .panel{position:absolute;left:-280px;top:0;bottom:0;width:280px;background:#17002d;color:#fff;box-shadow:8px 0 30px #000a;padding:18px 14px;display:flex;flex-direction:column;gap:14px;transition:.3s}
    .drawer.open{pointer-events:auto}
    .drawer.open .shade{opacity:1}
    .drawer.open .panel{left:0}
    .drawer a{color:#fff;text-decoration:none;padding:12px 0;border-radius:10px;background:#ffffff17;border:1px solid #ffffff11;text-align:center;font-weight:600}
    .drawer a:hover{background:#fff2;border-color:#fff6;color:#32006b}
    .drawer .langs{margin-top:auto;display:flex;gap:8px}
    .drawer .langs button{flex:1;background:#ffffff1a;border:1px solid #ffffff44;color:#fff;padding:10px;border-radius:10px;cursor:pointer;font-weight:700}
    .drawer .langs button:hover{background:#fff5;color:var(--violet)}
    .hero{padding:45px 12px 22px 12px;color:#fff;text-align:center;position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;gap:0}
    .hero-bgimg{position:absolute;top:10px;right:10%;width:240px;opacity:.16;z-index:1;pointer-events:none;user-select:none}
    .hero-main{position:relative;z-index:2;max-width:600px;margin:0 auto}
    .h2{color:#fff;margin:0 0 12px 0;font-weight:900;text-align:center;letter-spacing:-1px}
    .hero .h2{font-size:2.7rem;background:linear-gradient(91deg,#ffd541 30%,#722cfe 70%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .muted{color:#d2cbfd;opacity:1;text-align:center}
    .section{padding:22px 0;width:100%}
    .card{background:linear-gradient(120deg,#fff 59%,#f4ebf8 100%);border-radius:18px;padding:22px;box-shadow:0 14px 46px rgba(30,26,92,0.17);width:100%;}
    label{display:block;margin-top:10px;font-weight:600;color:#3a056c}
    input,select{width:100%;padding:13px;margin-top:6.5px;border-radius:12px;border:1.6px solid #cfd0e0;outline:none;}
    input:focus,select:focus{border-color:#8f8bfc;box-shadow:0 0 0 3px #7b57b633}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:11px;margin-top:9px}
    .service{border:1px solid #e5e7ef;border-radius:10px;padding:9px 12px;font-size:15px;}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:15px}
    button{width:100%;padding:15px 0;border:none;border-radius:13px;font-size:17px;margin-top:12px;cursor:pointer;font-weight:700;transition:.11s;box-shadow:0 3px 18px #ad99ff14}
    #calc{background:linear-gradient(90deg,#6b23ff,#9c5dff);color:#fff}
    #calc:hover{background:linear-gradient(90deg,#32006b,#6b23ff)}
    #payCard{background:linear-gradient(90deg,#4caf50,#89fca0);color:#fff}
    #payCard:hover{background:#2d8a39}
    #payCash{background:linear-gradient(90deg,#ececf4,#ddddf8)}
    #payCash:hover{background:#d7daf3}
    #result{display:none;background:#f7f7ff;border-radius:13px;border:1.3px dashed #b6b4e6;margin-top:13px;padding:12px 15px;font-size:1.12rem;}
    #map{display:none;height:315px;border-radius:14px;margin-top:12px;width:100%;box-shadow:0 6px 32px #30007a26;}
    .partners{display:grid;grid-template-columns:repeat(auto-fit,minmax(179px,1fr));gap:17px;width:100%;margin-top:19px}
    .partner{
      background:linear-gradient(115deg, #fff 0%, #faf5ff 73%, #f5e0fc 100%);
      border-radius:16px;
      padding:28px 13px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:128px;box-shadow:0 10px 44px rgba(107,35,255,.09);text-decoration:none;transition:transform .16s, box-shadow .15s;border:2.2px solid transparent;
    }
    .partner:hover{
      transform:translateY(-4px) scale(1.035);box-shadow:0 16px 50px #885ff934;border-color:#6b23ff
    }
    .partner span{font-size:1.17rem;font-weight:700;color:#310068;text-align:center;line-height:1.45;}
    .qr-banner{display:flex;justify-content:center;align-items:stretch;gap:24px;flex-wrap:wrap;padding:20px;width:100%}
    .qr-block{display:grid;place-items:center;flex:1 1 240px}
    .qr-block img{width:190px;height:190px;object-fit:contain;background:#fff;border-radius:19px;box-shadow:0 14px 40px rgba(0,0,0,.20);padding:13px}
    .banner-box{flex:1 1 240px;display:grid;place-items:center;background:#fff;color:#32006b;border-radius:17px;box-shadow:0 10px 32px rgba(0,0,0,.18);padding:19px 7px;text-align:center;font-weight:800;line-height:1.36;}
    .banner-box .l1{font-size:21px}
    .banner-box .l2{font-size:28px}
    .year{color:#cfc5ff;text-align:center;margin:8px 0 0 0;font-weight:700;}
    .footer{color:#eedeff;text-align:center;margin:8px 0 24px 0;letter-spacing:2px;font-size:1.03em;}
    .couriers-section{padding:19px 0 0;width:100%;position:relative}
    .couriers-title{font-size:2.05rem;text-align:center;color:#fff;font-weight:900;text-shadow:0 2px 10px #3e19b6be;letter-spacing:-0.5px;margin-bottom:18px;}
    .couriers-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(176px,1fr));gap:14px;}
    .courier-card{background:linear-gradient(100deg,#ebe6ff 14%,#f9f5ff 88%);border-radius:16px;padding:19px 10px 17px 10px;display:flex;flex-direction:column;align-items:center;text-align:center;box-shadow:0 7px 24px #8461ff1c;transition:.13s;}
    .courier-card:hover{transform:scale(1.03);}
    .courier-img{width:76px;height:76px;border-radius:50%;object-fit:cover;margin-bottom:9px;border:3px solid #ccb8ff}
    .courier-name{margin:0;font-size:1.13em;font-weight:700;color:#23004a;}
    .courier-city{margin:2px 0 0 0;color:#644cab;font-size:0.98em;font-weight:500}
    .courier-status{margin:5px 0 0 0;font-size:0.94em;color:#24a733;font-weight:600;}
    .promos-section{padding:17px 0 0;}
    .promos-list{display:flex;gap:14px;flex-wrap:wrap;justify-content:center}
    .promo-box{background:linear-gradient(120deg,#ffd541 70%,#ffeaff 100%);border-radius:16px;box-shadow:0 8px 28px #cfb0ff32;color:#4f30b4;min-width:200px;max-width:320px;padding:17px;text-align:center;font-weight:700;font-size:1.02em;}
    .promo-box strong{color:#32006b;font-size:1.14em;}
    .stickers-bg{position:absolute;top:40px;left:0;z-index:1;width:100%;pointer-events:none;opacity:.23;}
    @media(max-width:900px){
      .wrap{padding:7px;}
      .partners,.couriers-list{grid-template-columns:1fr 1fr}
      .hero .h2{font-size:2.15em;}
      .hero{padding:27px 5px 11px;}
    }
    @media(max-width:650px){
      .partners,.couriers-list{grid-template-columns:1fr;}
      .hero-bgimg{width:125px;}
      .hero .h2{font-size:1.4em;}
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="topbar-inner wrap">
      <div class="brand"><img src="logo.jpg" alt="AlexLivraison"></div>
      <div class="hamb" id="btn-menu"><span></span></div>
    </div>
  </div>
  <div class="drawer" id="drawer">
    <div class="shade" id="shade"></div>
    <div class="panel">
      <img src="logo.jpg" alt="AlexLivraison" style="width:120px;height:auto;margin-bottom:10px">
      <a href="produits.html" id="nav-calc">Produits & Partenaires</a>
      <a href="about.html" id="nav-partners">√Ä propos</a>
      <a href="#" id="nav-contact">Chat</a>
      <div class="langs">
        <button id="btn-fr">FR</button>
        <button id="btn-en">EN</button>
      </div>
    </div>
  </div>
  <header class="hero wrap">
    <div class="hero-main">
      <h1 class="h2" id="hero-title">Livraison locale rapide √† Toulon & La Seyne</h1>
      <p class="muted" id="hero-desc">Repas, courses, colis et petits envois ‚Äî √† v√©lo, scooter ou v√©hicule l√©ger. Commande en 30 secondes.</p>
      <a href="#calc-section" style="display:inline-block;background:#ffd541;color:#32006b;font-weight:800;padding:16px 32px;border-radius:16px;font-size:1.24em;margin:18px auto 0 auto;box-shadow:0 8px 24px #32006b22;text-decoration:none;transition:.13s;">Commander maintenant</a>
    </div>
    <img src="courier-illustration.png" class="hero-bgimg" alt="">
  </header>
  <main class="wrap">
    <section id="calc-section" class="section">
      <h2 class="h2" id="calc-title">Calcul du prix et commande</h2>
      <div class="card">
        <label id="lbl-name">Nom du client (optionnel)</label>
        <input id="clientName" placeholder="Jean Dupont">
        <label id="lbl-phone">Num√©ro de t√©l√©phone du client</label>
        <input id="clientPhone" placeholder="+33 6 12 34 56 78" required>
        <label id="lbl-from">Adresse de d√©part</label>
        <input id="from" placeholder="2 Rue Beaussier, Toulon">
        <label id="lbl-to">Adresse de destination</label>
        <input id="to" placeholder="241 Rue Le Corbusier, La Seyne-sur-Mer">
        <div class="grid">
          <div>
            <label id="lbl-size">Taille du colis</label>
            <select id="size">
              <option value="S" id="opt-s">Petit (S)</option>
              <option value="M" selected id="opt-m">Moyen (M)</option>
              <option value="L" id="opt-l">Grand (L)</option>
              <option value="XL" id="opt-xl">Tr√®s grand (XL)</option>
            </select>
          </div>
          <div>
            <label id="lbl-floor">√âtage</label>
            <select id="floor">
              <option value="0" id="opt-f0">RDC / 1er (0 ‚Ç¨)</option>
              <option value="2" id="opt-f2">2e‚Äì5e (+2 ‚Ç¨)</option>
              <option value="2.5" id="opt-f25">6e‚Äì10e (+2,5 ‚Ç¨)</option>
              <option value="3" id="opt-f3">11e‚Äì15e (+3 ‚Ç¨)</option>
            </select>
          </div>
        </div>
        <div class="grid">
          <div><label id="lbl-date">Date de livraison</label><input type="date" id="date"></div>
          <div><label id="lbl-time">Heure de livraison souhait√©e</label><select id="time"></select></div>
        </div>
        <label id="lbl-add">Services additionnels</label>
        <div class="grid">
          <label class="service"><input type="checkbox" class="srv" data-fee="2"><span id="srv1"> Colis fragile (+2 ‚Ç¨)</span></label>
          <label class="service"><input type="checkbox" class="srv" data-fee="3"><span id="srv2"> Livraison urgente (+3 ‚Ç¨)</span></label>
          <label class="service"><input type="checkbox" class="srv" data-fee="1"><span id="srv3"> Attente 5 min (+1 ‚Ç¨)</span></label>
          <label class="service"><input type="checkbox" class="srv" data-fee="2"><span id="srv4"> Attente 10 min (+2 ‚Ç¨)</span></label>
        </div>
        <label id="lbl-total">Montant total (‚Ç¨)</label>
        <input id="total" readonly>
        <button id="calc">üßÆ Calculer le prix</button>
        <button id="payCard">üí≥ Paiement par carte</button>
        <button id="payCash">üí∂ Paiement en esp√®ces</button>
        <button style="background:#ffd541;color:#32006b;font-weight:700;margin-top:8px" onclick="document.getElementById('from').value='2 Rue Beaussier, Toulon';document.getElementById('to').value='241 Rue Le Corbusier, La Seyne-sur-Mer';">Remplir exemple</button>
        <div id="result"></div>
        <div id="map"></div>
      </div>
    </section>
    <section id="partners" class="section">
      <h2 class="h2" id="partners-title">Partenaires</h2>
      <div class="partners">
        <a href="supermarches.html" target="_blank" class="partner"><span id="p1">üõí Supermarch√©s</span></a>
        <a href="boulangeries.html" target="_blank" class="partner"><span id="p2">ü•ñ Boulangeries</span></a>
        <a href="pharmacies.html" target="_blank" class="partner"><span id="p3">üíä Pharmacies</span></a>
        <a href="restaurants.html" target="_blank" class="partner"><span id="p4">üç± Restaurants</span></a>
        <a href="epiceries.html" target="_blank" class="partner"><span id="p5">üßÄ √âpiceries fines</span></a>
        <a href="commercants.html" target="_blank" class="partner"><span id="p6">üì¶ Commer√ßants locaux</span></a>
      </div>
    </section>
    <section class="couriers-section">
      <h2 class="couriers-title">Coursiers partenaires</h2>
      <div class="couriers-list">
        <div class="courier-card">
          <img src="courier1.jpg" alt="Coursier Alex" class="courier-img">
          <div class="courier-name">Alex</div>
          <div class="courier-city">Toulon, La Seyne</div>
          <div class="courier-status">Disponible</div>
        </div>
        <div class="courier-card">
          <img src="courier2.jpg" alt="Coursier Samir" class="courier-img">
          <div class="courier-name">Samir</div>
          <div class="courier-city">Toulon & Ollioules</div>
          <div class="courier-status" style="color:#e68309">Momentan√©ment indisponible</div>
        </div>
        <div class="courier-card">
          <img src="courier3.jpg" alt="Coursier Laura" class="courier-img">
          <div class="courier-name">Laura</div>
          <div class="courier-city">La Seyne/Mer</div>
          <div class="courier-status">Disponible</div>
        </div>
      </div>
      <img src="stickers.svg" class="stickers-bg" alt="">
    </section>
    <section class="promos-section">
      <div class="promos-list">
        <div class="promo-box">
          <div>üéâ <strong>Offres sp√©ciales partenaires</strong></div>
          <div>Jusqu'√† -20% chez nos commer√ßants et restaurants</div>
        </div>
        <div class="promo-box">
          <div>üÜì <strong>5 premi√®res livraisons offertes</strong></div>
          <div>Pour tous les nouveaux clients</div>
        </div>
        <div class="promo-box">
          <div>üí¨ <strong>Support WhatsApp & Chat Express</strong></div>
          <div>Contact instantan√© 7j/7</div>
        </div>
      </div>
    </section>
    <section id="contact" class="section">
      <h2 class="h2" id="contact-title">Contact</h2>
      <div class="card">
        <div class="muted" style="margin-bottom:10px;color:#222;font-weight:700;text-align:center">
          AlexLivraison ‚Äî La Seyne-sur-Mer / Toulon<br>üìû 06 77 17 11 88 ¬∑ üìß <a href="mailto:atushbek020185@gmail.com">atushbek020185@gmail.com</a>
        </div>
        <div class="contact-links" style="display:flex;justify-content:center;flex-wrap:wrap;gap:8px">
          <a href="https://wa.me/33677171188" target="_blank" style="padding:10px 16px;background:#25D366;color:#fff;border-radius:10px;text-decoration:none;font-weight:700">üí¨ WhatsApp</a>
          <a href="tel:+33677171188" style="padding:10px 16px;background:#6b23ff;color:#fff;border-radius:10px;text-decoration:none;font-weight:700">üì≤ Appeler</a>
          <a href="mailto:atushbek020185@gmail.com" style="padding:10px 16px;background:#32006b;color:#fff;border-radius:10px;text-decoration:none;font-weight:700">‚úâÔ∏è E-mail</a>
        </div>
      </div>
    </section>
    <div class="qr-banner">
      <div class="qr-block">
        <img src="QR-code.jpg" alt="QR AlexLivraison">
        <div style="margin-top:6px;color:#fff;font-weight:700;text-align:center">alexlivraison.shop</div>
      </div>
      <div class="banner-box">
        <div class="l1" id="bn1">üéâ Offres partenaires</div>
        <div class="l2" id="bn2">√âNORMES R√âDUCTIONS</div>
        <div class="l1" id="bn3">ET LES 5 PREMI√àRES LIVRAISONS GRATUITES !</div>
      </div>
    </div>
    <div class="year">2025</div>
    <div class="footer">¬© AlexLivraison</div>
  </main>
  <script>
    const drawer=document.getElementById('drawer');
    const shade=document.getElementById('shade');
    const btnMenu=document.getElementById('btn-menu');
    btnMenu.addEventListener('click',()=>drawer.classList.add('open'));
    shade.addEventListener('click',()=>drawer.classList.remove('open'));
    const PRICE_PER_KM=0.9;
    const SIZE_FEES={S:0,M:0.5,L:1.0,XL:1.5};
    const TELEGRAM_BOT_TOKEN="8003065650:AAGJH_PRNHQ7jVDm9q96G6zlHt-IXkxKHnA";
    const TELEGRAM_CHAT_ID="7129872491";
    const MAPBOX_TOKEN="pk.eyJ1IjoiYWxleGxpdnJldXIiLCJhIjoiY21oZjRsODBxMDFpMTJrc2NuM3JyY2VrdyJ9.kErrSMRoIXzWqp9wnlayMg";
    const $=s=>document.querySelector(s);
    const res=$("#result");
    const mapDiv=$("#map");
    let lastCalc=null;
    const timeSel=$("#time");
    const dateInput=$("#date");
    const now=new Date();
    if(dateInput){const t=new Date();t.setMinutes(t.getMinutes()-t.getTimezoneOffset());dateInput.value=t.toISOString().slice(0,10);}
    if(timeSel){for(let i=0;i<48;i++){const t=new Date(now.getTime()+i*30*60000);const label=t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});const opt=document.createElement("option");opt.value=label;opt.textContent=label;timeSel.appendChild(opt);}}
    async function geocode(q){const url=`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(q)}.json?limit=1&language=fr&access_token=${MAPBOX_TOKEN}`;const r=await fetch(url);const j=await r.json();if(!j.features.length)throw new Error("Adresse introuvable");const[lon,lat]=j.features[0].center;return{lat,lon};}
    async function route(lat1,lon1,lat2,lon2){const url=`https://api.mapbox.com/directions/v5/mapbox/driving/${lon1},${lat1};${lon2},${lat2}?geometries=geojson&overview=full&access_token=${MAPBOX_TOKEN}`;const r=await fetch(url);const j=await r.json();const path=j.routes[0];return{km:path.distance/1000,geo:path.geometry};}
    let map,routeLayer;
    function showMap(lat1,lon1,lat2,lon2,geo){if(!map){map=L.map("map");L.tileLayer(`https://api.mapbox.com/styles/v1/mapbox/streets-v12/tiles/{z}/{x}/{y}?access_token=${MAPBOX_TOKEN}`,{tileSize:512,zoomOffset:-1}).addTo(map);}if(routeLayer)routeLayer.remove();routeLayer=L.geoJSON(geo,{style:{color:"#6b23ff",weight:5}}).addTo(map);map.fitBounds([[lat1,lon1],[lat2,lon2]]);mapDiv.style.display="block";}
    async function sendToTelegram(text){await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:TELEGRAM_CHAT_ID,text})});}
    function euro(v){return v.toFixed(2).replace(".", ",")+" ‚Ç¨";}
    async function calc(){const from=$("#from").value.trim();const to=$("#to").value.trim();const clientPhone=$("#clientPhone").value.trim();if(!from||!to||!clientPhone){alert(currentText.alertFill);return;}const size=$("#size").value;const floorFee=parseFloat($("#floor").value);let extras=0;document.querySelectorAll(".srv").forEach(x=>{if(x.checked)extras+=parseFloat(x.dataset.fee);});try{const[A,B]=await Promise.all([geocode(from),geocode(to)]);const r=await route(A.lat,A.lon,B.lat,B.lon);const dist=Math.round(r.km*100)/100;const price=Math.round(dist*PRICE_PER_KM+SIZE_FEES[size]+floorFee+extras);lastCalc={from,to,dist,price,size};res.style.display="block";res.innerHTML=`<b>${currentText.distance}</b> ${dist} km<br><b>${currentText.price}</b> ${euro(price)}`;$("#total").value=price.toFixed(2);showMap(A.lat,A.lon,B.lat,B.lon,r.geo);}catch(e){alert(currentText.alertError);}}
    $("#calc").addEventListener("click",calc);
    $("#payCash").addEventListener("click",async()=>{if(!lastCalc){alert(currentText.alertCalcFirst);return;}const name=$("#clientName").value.trim()||currentText.nonPrecise;const phone=$("#clientPhone").value.trim();const time=$("#time").value;const date=$("#date").value;await sendToTelegram(`üÜï ${currentText.newOrderCash}\nüë§ ${currentText.name}: ${name}\nüìû ${currentText.phone}: ${phone}\nüìÖ ${currentText.date}: ${date}\nüïí ${currentText.time}: ${time}\nüìç ${currentText.from}: ${lastCalc.from}\nüèÅ ${currentText.to}: ${lastCalc.to}\nüì¶ ${currentText.distanceShort}: ${lastCalc.dist} km\nüí∂ ${currentText.priceShort}: ${lastCalc.price} ‚Ç¨`);alert(currentText.cashOk);});
    $("#payCard").addEventListener("click",async()=>{if(!lastCalc){alert(currentText.alertCalcFirst);return;}const name=$("#clientName").value.trim()||currentText.nonPrecise;const phone=$("#clientPhone").value.trim();const time=$("#time").value;const date=$("#date").value;await sendToTelegram(`üÜï ${currentText.newOrderCard}\nüë§ ${currentText.name}: ${name}\nüìû ${currentText.phone}: ${phone}\nüìÖ ${currentText.date}: ${date}\nüïí ${currentText.time}: ${time}\nüìç ${currentText.from}: ${lastCalc.from}\nüèÅ ${currentText.to}: ${lastCalc.to}\nüì¶ ${currentText.distanceShort}: ${lastCalc.dist} km\nüí≥ ${currentText.priceShort}: ${lastCalc.price} ‚Ç¨`);const response=await fetch("https://alexlivraison-api.onrender.com/api/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:lastCalc.price,name,phone})});const data=await response.json();if(data.checkout_url)window.open(data.checkout_url,"_blank");else alert(currentText.payError);});
    document.getElementById("from").value="2 Rue Beaussier, Toulon";
    document.getElementById("to").value="241 Rue Le Corbusier, La Seyne-sur-Mer";
    const dict={
      fr:{
        heroTitle:"Livraison locale rapide √† Toulon & La Seyne",
        heroDesc:"Repas, courses, colis et petits envois ‚Äî √† v√©lo, scooter ou v√©hicule l√©ger. Commande en 30 secondes.",
        navCalc:"Produits & Partenaires",
        navPartners:"√Ä propos",
        navContact:"Chat",
        calcTitle:"Calcul du prix et commande",
        lblName:"Nom du client (optionnel)",
        lblPhone:"Num√©ro de t√©l√©phone du client",
        lblFrom:"Adresse de d√©part",
        lblTo:"Adresse de destination",
        lblSize:"Taille du colis",
        optS:"Petit (S)",
        optM:"Moyen (M)",
        optL:"Grand (L)",
        optXL:"Tr√®s grand (XL)",
        lblFloor:"√âtage",
        optF0:"RDC / 1er (0 ‚Ç¨)",
        optF2:"2e‚Äì5e (+2 ‚Ç¨)",
        optF25:"6e‚Äì10e (+2,5 ‚Ç¨)",
        optF3:"11e‚Äì15e (+3 ‚Ç¨)",
        lblDate:"Date de livraison",
        lblTime:"Heure de livraison souhait√©e",
        lblAdd:"Services additionnels",
        srv1:" Colis fragile (+2 ‚Ç¨)",
        srv2:" Livraison urgente (+3 ‚Ç¨)",
        srv3:" Attente 5 min (+1 ‚Ç¨)",
        srv4:" Attente 10 min (+2 ‚Ç¨)",
        lblTotal:"Montant total (‚Ç¨)",
        partnersTitle:"Partenaires",
        p1:"üõí Supermarch√©s",
        p2:"ü•ñ Boulangeries",
        p3:"üíä Pharmacies",
        p4:"üç± Restaurants",
        p5:"üßÄ √âpiceries fines",
        p6:"üì¶ Commer√ßants locaux",
        bn1:"üéâ Offres partenaires",
        bn2:"√âNORMES R√âDUCTIONS",
        bn3:"ET LES 5 PREMI√àRES LIVRAISONS GRATUITES !",
        distance:"Distance:",
        price:"Prix estim√©:",
        nonPrecise:"Non pr√©cis√©",
        newOrderCash:"Nouvelle commande (Esp√®ces)",
        newOrderCard:"Nouvelle commande (Carte)",
        name:"Nom",
        phone:"T√©l√©phone",
        date:"Date",
        time:"Heure",
        from:"De",
        to:"√Ä",
        distanceShort:"Distance",
        priceShort:"Prix",
        alertFill:"Veuillez remplir toutes les informations obligatoires.",
        alertError:"Erreur lors du calcul.",
        alertCalcFirst:"Calculez d'abord le prix.",
        cashOk:"Commande enregistr√©e ‚úÖ Paiement en esp√®ces.",
        payError:"Erreur de paiement."
      },
      en:{
        heroTitle:"Fast & reliable local delivery in Toulon & La Seyne",
        heroDesc:"Meals, groceries, parcels and small items ‚Äî by bike, scooter or light vehicle. Order in 30 seconds.",
        navCalc:"Products & Partners",
        navPartners:"About",
        navContact:"Chat",
        calcTitle:"Price calculation & order",
        lblName:"Customer name (optional)",
        lblPhone:"Customer phone number",
        lblFrom:"Pickup address",
        lblTo:"Drop-off address",
        lblSize:"Parcel size",
        optS:"Small (S)",
        optM:"Medium (M)",
        optL:"Large (L)",
        optXL:"Extra large (XL)",
        lblFloor:"Floor",
        optF0:"Ground/1st (0 ‚Ç¨)",
        optF2:"2nd‚Äì5th (+2 ‚Ç¨)",
        optF25:"6th‚Äì10th (+2.5 ‚Ç¨)",
        optF3:"11th‚Äì15th (+3 ‚Ç¨)",
        lblDate:"Delivery date",
        lblTime:"Preferred delivery time",
        lblAdd:"Additional services",
        srv1:" Fragile parcel (+2 ‚Ç¨)",
        srv2:" Express delivery (+3 ‚Ç¨)",
        srv3:" Waiting 5 min (+1 ‚Ç¨)",
        srv4:" Waiting 10 min (+2 ‚Ç¨)",
        lblTotal:"Total amount (‚Ç¨)",
        partnersTitle:"Partners",
        p1:"üõí Supermarkets",
        p2:"ü•ñ Bakeries",
        p3:"üíä Pharmacies",
        p4:"üç± Restaurants",
        p5:"üßÄ Delicatessens",
        p6:"üì¶ Local merchants",
        bn1:"üéâ Partner deals",
        bn2:"HUGE DISCOUNTS",
        bn3:"AND THE FIRST 5 DELIVERIES FREE!",
        distance:"Distance:",
        price:"Estimated price:",
        nonPrecise:"Not specified",
        newOrderCash:"New order (Cash)",
        newOrderCard:"New order (Card)",
        name:"Name",
        phone:"Phone",
        date:"Date",
        time:"Time",
        from:"From",
        to:"To",
        distanceShort:"Distance",
        priceShort:"Price",
        alertFill:"Please fill in all required fields.",
        alertError:"Error while calculating.",
        alertCalcFirst:"Calculate the price first.",
        cashOk:"Order saved ‚úÖ Cash payment.",
        payError:"Payment error."
      }
    };
    let currentText=dict.fr;
    function setLang(lang){
      currentText=dict[lang]||dict.fr;document.documentElement.lang=lang==='en'?'en':'fr';
      document.getElementById('hero-title').textContent=currentText.heroTitle;
      document.getElementById('hero-desc').textContent=currentText.heroDesc;
      document.getElementById('nav-calc').textContent=currentText.navCalc;
      document.getElementById('nav-partners').textContent=currentText.navPartners;
      document.getElementById('nav-contact').textContent=currentText.navContact;
      document.getElementById('calc-title').textContent=currentText.calcTitle;
      document.getElementById('lbl-name').textContent=currentText.lblName;
      document.getElementById('lbl-phone').textContent=currentText.lblPhone;
      document.getElementById('lbl-from').textContent=currentText.lblFrom;
      document.getElementById('lbl-to').textContent=currentText.lblTo;
      document.getElementById('lbl-size').textContent=currentText.lblSize;
      document.getElementById('opt-s').textContent=currentText.optS;
      document.getElementById('opt-m').textContent=currentText.optM;
      document.getElementById('opt-l').textContent=currentText.optL;
      document.getElementById('opt-xl').textContent=currentText.optXL;
      document.getElementById('lbl-floor').textContent=currentText.lblFloor;
      document.getElementById('opt-f0').textContent=currentText.optF0;
      document.getElementById('opt-f2').textContent=currentText.optF2;
      document.getElementById('opt-f25').textContent=currentText.optF25;
      document.getElementById('opt-f3').textContent=currentText.optF3;
      document.getElementById('lbl-date').textContent=currentText.lblDate;
      document.getElementById('lbl-time').textContent=currentText.lblTime;
      document.getElementById('lbl-add').textContent=currentText.lblAdd;
      document.getElementById('srv1').textContent=currentText.srv1;
      document.getElementById('srv2').textContent=currentText.srv2;
      document.getElementById('srv3').textContent=currentText.srv3;
      document.getElementById('srv4').textContent=currentText.srv4;
      document.getElementById('lbl-total').textContent=currentText.lblTotal;
      document.getElementById('partners-title').textContent=currentText.partnersTitle;
      document.getElementById('p1').textContent=currentText.p1;
      document.getElementById('p2').textContent=currentText.p2;
      document.getElementById('p3').textContent=currentText.p3;
      document.getElementById('p4').textContent=currentText.p4;
      document.getElementById('p5').textContent=currentText.p5;
      document.getElementById('p6').textContent=currentText.p6;
      document.getElementById('contact-title').textContent=currentText.navContact;
      document.getElementById('bn1').textContent=currentText.bn1;
      document.getElementById('bn2').textContent=currentText.bn2;
      document.getElementById('bn3').textContent=currentText.bn3;
      localStorage.setItem('alex_lang',lang);}
    const savedLang=localStorage.getItem('alex_lang')||'fr';setLang(savedLang);
    document.getElementById('btn-fr').addEventListener('click',()=>{setLang('fr');drawer.classList.remove('open');});
    document.getElementById('btn-en').addEventListener('click',()=>{setLang('en');drawer.classList.remove('open');});
    document.getElementById('nav-contact').addEventListener('click', (e) => {e.preventDefault();drawer.classList.remove('open');window.open('https://t.me/alexlivraison_bot', '_blank');});
  </script>
</body>
</html>
