<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Produits Partenaires - AlexLivraison</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Arial,sans-serif;background:linear-gradient(180deg,#32006b,#7a2cf5);color:#fff;min-height:100vh;overflow-x:hidden}
.wrap{max-width:1060px;margin:0 auto;padding:20px}
header{display:flex;justify-content:space-between;align-items:center;padding:15px 0;position:relative}
.logo{font-size:28px;font-weight:bold;color:#fff;text-decoration:none;display:flex;align-items:center;gap:8px}
.logo .emoji{display:inline-block;animation:bounce 2s infinite}
.hamburger{width:30px;height:22px;position:relative;cursor:pointer;z-index:1001}
.hamburger span,
.hamburger::before,
.hamburger::after{content:'';display:block;width:100%;height:3px;background:#fff;position:absolute;transition:.3s}
.hamburger span{top:50%;transform:translateY(-50%)}
.hamburger::before{top:0}
.hamburger::after{bottom:0}
.hamburger.active span{opacity:0}
.hamburger.active::before{transform:translateY(10px) rotate(45deg)}
.hamburger.active::after{transform:translateY(-10px) rotate(-45deg)}
.menu{position:fixed;top:0;right:-100%;width:300px;height:100vh;background:rgba(50,0,107,.98);padding:80px 30px 30px;transition:right .4s;z-index:1000;overflow-y:auto;backdrop-filter:blur(10px)}
.menu.open{right:0}
.menu nav a{display:block;color:#fff;text-decoration:none;padding:15px 20px;font-size:16px;border-radius:10px;margin-bottom:8px;transition:.3s;background:rgba(255,255,255,.05)}
.menu nav a:hover{background:rgba(255,255,255,.15);padding-left:30px;color:#b88aff}
.menu .submenu-trigger{display:block;color:#fff;text-decoration:none;padding:15px 20px;font-size:16px;border-radius:10px;margin-bottom:8px;transition:.3s;background:rgba(255,255,255,.09);font-weight:700;cursor:pointer;position:relative;}
.menu .submenu-trigger::after{content:"‚ñº";font-size:.87em;margin-left:6px;}
.menu .submenu{display:none;background:rgba(98,57,174,.95);border-radius:11px;padding:7px 0;box-shadow:0 6px 20px #2a146133;margin-bottom:2px;}
.menu .submenu.visible{display:block;}
.menu .submenu a{padding:11px 29px;color:#fff;background:none;border-radius:7px;text-decoration:none;font-size:15px;font-weight:700;transition:.21s;text-align:left;display:block;}
.menu .submenu a:hover{background:#6b23ff;}
.lang-switch{margin-top:30px;padding-top:20px;border-top:2px solid rgba(255,255,255,.2)}
.lang-switch p{font-size:14px;margin-bottom:15px;color:#b88aff}
.lang-btns{display:flex;gap:10px}
.lang-btns button{flex:1;padding:10px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.3);color:#fff;cursor:pointer;border-radius:8px;font-size:14px;transition:.3s}
.lang-btns button:hover{background:rgba(255,255,255,.2)}
.lang-btns button.active{background:#6b23ff;border-color:#6b23ff}
.page-header{text-align:center;margin:40px 0;animation:slide-in-top .6s}
.page-header h1{font-size:34px;margin-bottom:10px;line-height:1.3}
.page-header .sticker{font-size:50px;display:inline-block;animation:bounce 2s infinite}
.promo-banner{background:linear-gradient(135deg,#ff6b6b,#ff8e53);padding:20px;border-radius:20px;text-align:center;margin:30px 0;animation:glow 2s infinite;box-shadow:0 5px 25px rgba(255,107,107,.4)}
.promo-banner h2{font-size:26px;margin-bottom:10px}
.promo-banner p{font-size:16px;opacity:.9}
.promo-emoji{display:inline-block;animation:wiggle 1.5s infinite ease-in-out}
.filters{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;margin:30px 0;animation:fade-in-card .8s}
.filter-btn{padding:12px 25px;background:rgba(255,255,255,.15);border:2px solid rgba(255,255,255,.3);color:#fff;cursor:pointer;border-radius:25px;font-size:16px;transition:.3s;display:flex;align-items:center;gap:8px}
.filter-btn .emoji{display:inline-block;animation:bounce 2s infinite}
.filter-btn:hover{background:rgba(255,255,255,.25);transform:translateY(-2px)}
.filter-btn.active{background:#6b23ff;border-color:#6b23ff;box-shadow:0 0 20px rgba(107,35,255,.5)}
.products-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:25px;margin:40px 0;animation:fade-in-card 1s}
.product-card{background:rgba(255,255,255,.1);border-radius:20px;padding:20px;border:2px solid rgba(255,255,255,.2);transition:.4s;position:relative;overflow:hidden;cursor:pointer}
.product-card::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);opacity:0;transition:.4s}
.product-card:hover::before{opacity:1}
.product-card:hover{transform:translateY(-8px);border-color:#b88aff;box-shadow:0 10px 30px rgba(0,0,0,.3)}
.product-img{width:100%;height:200px;object-fit:cover;border-radius:15px;margin-bottom:15px;background:linear-gradient(135deg,#6b23ff,#b88aff)}
.product-badge{display:inline-block;padding:5px 12px;background:#6b23ff;border-radius:15px;font-size:12px;margin-bottom:10px}
.product-name{font-size:20px;font-weight:bold;margin-bottom:8px}
.product-price{font-size:22px;color:#b88aff;margin:10px 0;font-weight:bold}
.product-desc{font-size:14px;color:rgba(255,255,255,.8);margin-bottom:15px;line-height:1.4}
.btn-order{width:100%;padding:12px;background:linear-gradient(135deg,#6b23ff,#b88aff);border:none;color:#fff;font-size:16px;border-radius:12px;cursor:pointer;transition:.3s;font-weight:bold}
.btn-order:hover{transform:scale(1.05);box-shadow:0 5px 20px rgba(107,35,255,.4)}
footer{text-align:center;padding:30px 0;border-top:2px solid rgba(255,255,255,.2);margin-top:50px}
footer p{color:rgba(255,255,255,.7);font-size:14px}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes slide-in-top{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}
@keyframes fade-in-card{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}
@keyframes glow{0%,100%{box-shadow:0 5px 25px rgba(255,107,107,.4);transform:scale(1)}50%{box-shadow:0 5px 40px rgba(255,107,107,.7);transform:scale(1.02)}}
@keyframes wiggle{0%,100%{transform:rotate(0deg)}25%{transform:rotate(-20deg)}75%{transform:rotate(20deg)}}
@media(max-width:968px){.products-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:768px){.wrap{padding:15px}.page-header h1{font-size:26px}.filters{gap:10px}.filter-btn{padding:10px 18px;font-size:14px}.products-grid{grid-template-columns:1fr;gap:20px}.menu{width:260px}}
</style>
</head>
<body>
<div class="wrap">
<header>
<a href="index.html" class="logo">AlexLivraison <span class="emoji">üöö</span></a>
<div class="hamburger" id="hamburger"><span></span></div>
</header>
<div class="menu" id="menu">
<nav>
<a href="#" class="submenu-trigger" id="openPartnerMenu">üõí Devenir partenaire vendeur</a>
<div class="submenu" id="partnerSubmenu">
<a href="form-supermarches.html" target="_blank">Propri√©taire de supermarch√©</a>
<a href="form-boulangerie.html" target="_blank">Propri√©taire de boulangerie</a>
<a href="form-pharmacies.html" target="_blank">Propri√©taire de pharmacie</a>
<a href="form-restaurants.html" target="_blank">Propri√©taire de restaurant</a>
<a href="form-epiceries.html" target="_blank">Propri√©taire d'√©picerie fine</a>
<a href="form-commercants.html" target="_blank">Propri√©taire de commerce local</a>
<a href="form-boucheries.html" target="_blank">Propri√©taire de boucherie</a>
<a href="form-poissonneries.html" target="_blank">Propri√©taire de poissonnerie</a>
</div>
<a href="devenir-coursier.html">üö¥ Devenir partenaire coursier</a>
<a href="index.html">üè† Retour √† la page d'accueil</a>
<a href="index.html#contact">üìû Contactez-nous</a>
<a href="about.html">‚ÑπÔ∏è √Ä propos de nous</a>
</nav>
<div class="lang-switch">
<p>Langue / Language</p>
<div class="lang-btns">
<button class="active" id="langFr">FR</button>
<button id="langEn">EN</button>
</div>
</div>
</div>
<div class="page-header">
<div class="sticker">üõç</div>
<h1>Bienvenue dans notre section de produits partenaires !</h1>
<div class="sticker">‚ú®</div>
</div>
<div class="promo-banner">
<h2><span class="promo-emoji">üéâ</span> Promotion sp√©ciale!</h2>
<p>Livraison gratuite sur toutes les commandes de nos partenaires ce mois-ci!</p>
</div>

<div class="filters" id="filters">
<button class="filter-btn active" data-category="all"><span class="emoji">üåü</span><span>Meilleurs Prix</span></button>
<button class="filter-btn" data-category="boulangerie"><span class="emoji">ü•ñ</span><span>Boulangeries</span></button>
<button class="filter-btn" data-category="supermarches"><span class="emoji">üõí</span><span>Supermarch√©s</span></button>
<button class="filter-btn" data-category="boucheries"><span class="emoji">ü•©</span><span>Boucheries</span></button>
<button class="filter-btn" data-category="poissonneries"><span class="emoji">üêü</span><span>Poissonneries</span></button>
<button class="filter-btn" data-category="pharmacies"><span class="emoji">üíä</span><span>Pharmacies</span></button>
<button class="filter-btn" data-category="restaurants"><span class="emoji">üçΩ</span><span>Restaurants</span></button>
<button class="filter-btn" data-category="epicerie"><span class="emoji">üßÄ</span><span>√âpicerie</span></button>
<button class="filter-btn" data-category="commercants"><span class="emoji">üè™</span><span>Commer√ßants</span></button>
</div>

<div class="products-grid" id="productsGrid"></div>
<footer><p>¬© 2025 AlexLivraison - Tous droits r√©serv√©s</p></footer>
</div>
<script>
const hamburger=document.getElementById('hamburger');
const menu=document.getElementById('menu');
hamburger.addEventListener('click',()=>{menu.classList.toggle('open');hamburger.classList.toggle('active');});
const openPartnerMenu=document.getElementById('openPartnerMenu');
const partnerSubmenu=document.getElementById('partnerSubmenu');
openPartnerMenu.onclick=function(e){
  e.preventDefault();
  partnerSubmenu.classList.toggle('visible');
  document.addEventListener('click',function handler(ev){
    if (!ev.target.closest('#partnerSubmenu') && ev.target!==openPartnerMenu){
      partnerSubmenu.classList.remove('visible');
      document.removeEventListener('click',handler);
    }
  });
};
const productsGrid=document.getElementById('productsGrid');
const filterBtns=document.querySelectorAll('.filter-btn');

// –°—Å—ã–ª–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–í–∏—Ç—Ä–∏–Ω—ã)
const categoryPages={
  supermarches:'supermarches.html',
  boulangerie:'boulangeries.html',
  boucheries:'boucheries.html',
  poissonneries:'poissonneries.html',
  pharmacies:'pharmacies.html',
  restaurants:'restaurants.html',
  epicerie:'epicerie.html',
  commercants:'commercants.html'
};

async function afficherProduitsAPI(cat){
  productsGrid.innerHTML = '<div style="text-align:center;color:white">Chargement...</div>';
  try {
    const res = await fetch('https://alexlivraison-api-v2.onrender.com/api/products');
    let data = await res.json();
    
    if(cat === 'all') {
      // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ (—Å–Ω–∞—á–∞–ª–∞ –¥–µ—à–µ–≤—ã–µ) –∏ –ø–æ–∫–∞–∑ —Ç–æ–ª—å–∫–æ 9 —à—Ç—É–∫
      data.sort((a, b) => parseFloat(a.price) - parseFloat(b.price));
      data = data.slice(0, 9);
    } else {
      data = data.filter(p => p.cat && p.cat.toLowerCase() === cat.toLowerCase());
    }

    productsGrid.innerHTML = '';
    if(data.length === 0) {
       productsGrid.innerHTML = '<div style="color:#fff;text-align:center;padding:20px;grid-column:1/-1">Aucun produit trouv√© dans cette cat√©gorie</div>';
       return;
    }

    data.forEach(p => {
      const div=document.createElement('div');
      div.className='product-card';
      
      // –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –≤–µ–¥–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —ç—Ç–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
      div.onclick=()=>{
         let targetPage = categoryPages[p.cat ? p.cat.toLowerCase() : ''] || '#';
         if(targetPage !== '#') window.location.href=targetPage;
      };
      
      div.innerHTML=`
      <img src="https://alexlivraison-api-v2.onrender.com${p.img || ''}" class="product-img" alt="${p.name}">
      <div class="product-badge">${p.cat||'Produit'}</div>
      <div class="product-name">${p.name}</div>
      <div class="product-price">${p.price ? parseFloat(p.price).toFixed(2)+' ‚Ç¨' : ''}</div>
      <div class="product-desc">${p.desc||''}</div>
      <button class="btn-order">Commander</button>`;
      productsGrid.appendChild(div);
    });
  } catch (error) {
    console.error(error);
    productsGrid.innerHTML = '<div style="color:red;text-align:center;grid-column:1/-1">Erreur de chargement des produits.</div>';
  }
}

let curCat='all';
afficherProduitsAPI(curCat);

filterBtns.forEach(btn=>{
  btn.addEventListener('click',()=>{
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
    filterBtns.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    
    curCat=btn.dataset.category;
    
    // –ï—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–µ "–í—Å–µ"), –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–∞–≥–∞–∑–∏–Ω–∞
    if(curCat !== "all") {
      if(categoryPages[curCat]) {
        window.location.href = categoryPages[curCat];
        return;
      }
    }
    // –ï—Å–ª–∏ "–í—Å–µ", –æ–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ç–∫—É –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    afficherProduitsAPI(curCat);
  });
});

const langFr=document.getElementById('langFr');
const langEn=document.getElementById('langEn');
const langData = {
  fr: {
    lang: 'fr',
    pageTitle: 'Produits Partenaires - AlexLivraison',
    pageHeader: 'Bienvenue dans notre section de produits partenaires !',
    promoH2: 'üéâ Promotion sp√©ciale!',
    promoP: 'Livraison gratuite sur toutes les commandes de nos partenaires ce mois-ci!',
    menu: [
      "üõí Devenir partenaire vendeur",
      "üö¥ Devenir partenaire coursier",
      "üè† Retour √† la page d'accueil",
      "üìû Contactez-nous",
      "‚ÑπÔ∏è √Ä propos de nous"
    ]
  },
  en: {
    lang: 'en',
    pageTitle: 'Partner Products - AlexLivraison',
    pageHeader: 'Welcome to our partner products section!',
    promoH2: 'üéâ Special Promotion!',
    promoP: 'Free delivery on all partner orders this month!',
    menu: [
      "üõí Become a partner seller",
      "üö¥ Become a partner courier",
      "üè† Back to homepage",
      "üìû Contact us",
      "‚ÑπÔ∏è About us"
    ]
  }
};
function setLanguage(lang){
  let data = langData[lang];
  document.documentElement.lang = data.lang;
  document.title = data.pageTitle;
  langFr.classList.toggle('active', lang === 'fr');
  langEn.classList.toggle('active', lang === 'en');
  document.querySelector('.page-header h1').textContent = data.pageHeader;
  const promoH2 = document.querySelector('.promo-banner h2');
  promoH2.innerHTML = `<span class="promo-emoji">üéâ</span> ${data.promoH2.replace('üéâ ', '')}`;
  document.querySelector('.promo-banner p').textContent = data.promoP;
  const navLinks = document.querySelectorAll('.menu nav > a:not(.submenu-trigger)');
  if (lang === "fr") {
    navLinks[0].textContent = langData.fr.menu[1];
    navLinks[1].textContent = langData.fr.menu[2];
    navLinks[2].textContent = langData.fr.menu[3];
    navLinks[3].textContent = langData.fr.menu[4];
    document.getElementById('openPartnerMenu').textContent = langData.fr.menu[0];
  } else {
    navLinks[0].textContent = langData.en.menu[1];
    navLinks[1].textContent = langData.en.menu[2];
    navLinks[2].textContent = langData.en.menu[3];
    navLinks[3].textContent = langData.en.menu[4];
    document.getElementById('openPartnerMenu').textContent = langData.en.menu[0];
  }
  afficherProduitsAPI(curCat);
}
langFr.onclick=function(){setLanguage('fr');};
langEn.onclick=function(){setLanguage('en');};
</script>
</body>
</html>
